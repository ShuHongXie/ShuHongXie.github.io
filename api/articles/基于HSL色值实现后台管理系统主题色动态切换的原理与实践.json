{"title":"基于HSL色值实现后台管理系统主题色动态切换的原理与实践","uid":"b3c60852837dddf35463cfd55ac55075","slug":"基于HSL色值实现后台管理系统主题色动态切换的原理与实践","date":"2025-03-24T16:00:00.000Z","updated":"2026-01-29T03:26:51.895Z","comments":true,"path":"api/articles/基于HSL色值实现后台管理系统主题色动态切换的原理与实践.json","keywords":"谢小谢的博客，前端开发，Vue，Node.js","cover":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/blog/wechat_2026-01-29_111419_691.png","content":"<h1 id=\"一、HSL-色值原理：更适合主题切换的色彩表示法\"><a href=\"#一、HSL-色值原理：更适合主题切换的色彩表示法\" class=\"headerlink\" title=\"一、HSL 色值原理：更适合主题切换的色彩表示法\"></a>一、HSL 色值原理：更适合主题切换的色彩表示法</h1><h2 id=\"1-1-什么是-HSL-色值\"><a href=\"#1-1-什么是-HSL-色值\" class=\"headerlink\" title=\"1.1 什么是 HSL 色值\"></a>1.1 什么是 HSL 色值</h2><p>HSL 是一种特别贴合人眼色彩感知的色彩空间模型，用三个维度就能精准定义颜色，咱们逐一说说：</p>\n<ul>\n<li><p><strong>色相（Hue）</strong>：就是颜色的“本色”，比如红、绿、蓝这些基础色，取值范围是 0°~360°，对应色轮上的不同位置——0° 是红色，120° 是绿色，240° 就是蓝色。</p>\n</li>\n<li><p><strong>饱和度（Saturation）</strong>：控制颜色的鲜艳程度，范围 0%~100%。0%的时候颜色会变成灰蒙蒙的灰度色，100%就是最鲜艳、最纯粹的颜色。</p>\n</li>\n<li><p><strong>亮度（Lightness）</strong>：决定颜色的明暗，同样是 0%~100%。0%是纯黑，50%是颜色本身的亮度，100%就是纯白。</p>\n</li>\n</ul>\n<p>和 RGB、十六进制色值比起来，HSL 最大的好处就是<strong>直观又好控</strong>——不用复杂计算，调整饱和度和亮度，就能轻松做出同一颜色的深浅色阶，这刚好戳中了主题色切换的核心需求。</p>\n<h2 id=\"1-2-HSL-在主题设计中的核心价值\"><a href=\"#1-2-HSL-在主题设计中的核心价值\" class=\"headerlink\" title=\"1.2 HSL 在主题设计中的核心价值\"></a>1.2 HSL 在主题设计中的核心价值</h2><p>后台系统换主题，可不是只改一个主色就完事了。得同步生成一整套协调的色阶，比如主色的浅 50、浅 100、深 600 等，分别用在按钮、边框、文字、提示框上。而 HSL 的特性，刚好完美适配这种需求：</p>\n<ol>\n<li><p>色阶够统一：固定色相（H），只调亮度（L），就能做出从浅到深的一系列颜色，整套主题的色彩不会乱。</p>\n</li>\n<li><p>调整够省心：想换主色调，改个色相值就行；想适配亮色、暗色模式，微调饱和度和亮度就搞定，不用重新设计整套色值。</p>\n</li>\n<li><p>兼容性够稳：所有现代浏览器都支持 HSL 色值，直接通过 CSS 变量注入就行，不用额外做兼容处理。</p>\n</li>\n</ol>\n<h1 id=\"二、基于-HSL-实现主题色切换的核心逻辑（结合代码拆解）\"><a href=\"#二、基于-HSL-实现主题色切换的核心逻辑（结合代码拆解）\" class=\"headerlink\" title=\"二、基于 HSL 实现主题色切换的核心逻辑（结合代码拆解）\"></a>二、基于 HSL 实现主题色切换的核心逻辑（结合代码拆解）</h1><p>给的代码其实就走了三步：生成色阶 → 注入 CSS 变量 → 监听主题更新，靠着 HSL 色值的可扩展性，就实现了后台主题色的动态切换。下面咱们一步步拆解开，慢慢看。</p>\n<h2 id=\"2-1-核心工具：色阶生成与-HSL-转换\"><a href=\"#2-1-核心工具：色阶生成与-HSL-转换\" class=\"headerlink\" title=\"2.1 核心工具：色阶生成与 HSL 转换\"></a>2.1 核心工具：色阶生成与 HSL 转换</h2><p>主题色切换的基础是有一整套完整的 HSL 色阶，代码里靠<code>generatorColorVariables</code>函数搭配几个工具库实现这个功能。先上核心代码，咱们逐句拆解：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">generatorColorVariables</span>(<span class=\"params\">colorItems: ColorItem[]</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"attr\">colorVariables</span>: <span class=\"title class_\">Record</span>&lt;string, string&gt; = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  colorItems.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">&#123; alias, color, name &#125;</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (color) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 将输入色值标准化为十六进制，避免格式混乱</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> colorsMap = <span class=\"title function_\">getColors</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">TinyColor</span>(color).<span class=\"title function_\">toHexString</span>());</span><br><span class=\"line\">      <span class=\"keyword\">let</span> mainColor = colorsMap[<span class=\"string\">&quot;500&quot;</span>];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> colorKeys = <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(colorsMap);</span><br><span class=\"line\"></span><br><span class=\"line\">      colorKeys.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> colorValue = colorsMap[key];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (colorValue) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// 转换为HSL格式，为CSS变量提供统一输入</span></span><br><span class=\"line\">          <span class=\"keyword\">const</span> hslColor = <span class=\"title function_\">convertToHsl</span>(colorValue);</span><br><span class=\"line\">          <span class=\"comment\">// 生成基础色阶变量（如--primary-500）</span></span><br><span class=\"line\">          colorVariables[<span class=\"string\">`--<span class=\"subst\">$&#123;name&#125;</span>-<span class=\"subst\">$&#123;key&#125;</span>`</span>] = hslColor;</span><br><span class=\"line\">          <span class=\"comment\">// 生成别名变量（如--warning-500，关联yellow系列）</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (alias) &#123;</span><br><span class=\"line\">            colorVariables[<span class=\"string\">`--<span class=\"subst\">$&#123;alias&#125;</span>-<span class=\"subst\">$&#123;key&#125;</span>`</span>] = hslColor;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// 记录主色（500色阶为核心色值）</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (key === <span class=\"string\">&quot;500&quot;</span>) &#123;</span><br><span class=\"line\">            mainColor = hslColor;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      <span class=\"comment\">// 为别名设置核心变量（如--warning直接指向--warning-500）</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (alias &amp;&amp; mainColor) &#123;</span><br><span class=\"line\">        colorVariables[<span class=\"string\">`--<span class=\"subst\">$&#123;alias&#125;</span>`</span>] = mainColor;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> colorVariables;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-1-1-依赖工具\"><a href=\"#2-1-1-依赖工具\" class=\"headerlink\" title=\"2.1.1 依赖工具\"></a>2.1.1 依赖工具</h3><ul>\n<li><p><code>TinyColor</code>：负责颜色格式转换，比如把各种格式转成十六进制，确保输入的主色值统一，不搞特殊化。</p>\n</li>\n<li><p><code>theme-colors</code>：能根据一个主色自动生成从 50（最浅）到 900（最深）的色阶表，不用自己手动算。</p>\n</li>\n<li><p><code>convertToHsl</code>：自定义小工具，把生成的色值转成 HSL 格式，方便后续统一注入 CSS 变量。</p>\n</li>\n</ul>\n<h3 id=\"2-1-2-色阶生成逻辑拆解（结合代码细品）\"><a href=\"#2-1-2-色阶生成逻辑拆解（结合代码细品）\" class=\"headerlink\" title=\"2.1.2 色阶生成逻辑拆解（结合代码细品）\"></a>2.1.2 色阶生成逻辑拆解（结合代码细品）</h3><p>这个函数的核心，就是把用户配置的几个主色（比如主题色、危险色、成功色），变成一整套能用的 HSL 色阶变量：</p>\n<ol>\n<li><p><strong>接收参数并初始化</strong>：函数接收一个<code>colorItems</code>数组，里面存着每个颜色的别名、原始色值和名称，同时建个空对象<code>colorVariables</code>，用来装最终的 CSS 变量。</p>\n</li>\n<li><p><strong>色值格式统一</strong>：通过<code>new TinyColor(color).toHexString()</code>，把不管是 RGB、HSL 还是十六进制的输入色值，都转成十六进制。这一步很关键，能避免输入格式乱七八糟，导致<code>getColors</code>生成色阶出问题——比如用户传<code>rgb(0,122,255)</code>，最终会统一变成<code>#007aff</code>。</p>\n</li>\n<li><p><code>自动生成色阶表</code>：<code>getColors</code>会基于标准化后的十六进制色值，自动生成 50 到 900 的 10 个色阶。它底层其实就是靠调整 HSL 的亮度（L），保持色相（H）和饱和度（S）基本不变，比如主色<code>#007aff</code>，会生成 L&#x3D;95%的 50 色阶、L&#x3D;90%的 100 色阶，一直到 L&#x3D;20%的 900 色阶。</p>\n</li>\n<li><p><strong>转 HSL 并存变量</strong>：每个色阶的颜色都会经过<code>convertToHsl</code>转成“色相,饱和度,亮度”的格式，比如<code>217, 100%, 50%</code>，然后分别存成基础变量（比如<code>--primary-500</code>）和别名变量（比如<code>--warning-500</code>）。选 HSL 格式存，是为了后续换主题时，改个色相就能整体切换，不用重新算所有色阶。</p>\n</li>\n<li><p><strong>关联别名与核心色</strong>：咱们约定 500 色阶是核心主色，会把它赋值给<code>mainColor</code>，再给别名生成简化变量——比如<code>--warning</code>直接指向<code>--warning-500</code>。这样用的时候，既可以选具体色阶（<code>--warning-300</code>），也能直接用核心色（<code>--warning</code>），灵活又方便。</p>\n</li>\n</ol>\n<p>简单说，这个函数就是把“单一主色”变成“一整套 HSL 色阶”，给后续全局换样式打基础。</p>\n<h2 id=\"2-2-关键操作：CSS-变量注入与更新\"><a href=\"#2-2-关键操作：CSS-变量注入与更新\" class=\"headerlink\" title=\"2.2 关键操作：CSS 变量注入与更新\"></a>2.2 关键操作：CSS 变量注入与更新</h2><p>色阶生成好后，得把它们注入到页面样式里，靠 CSS 变量实现全局生效。代码里的<code>executeUpdateCSSVariables</code>就是核心，负责批量管理 CSS 变量并注入页面，咱们看代码和逻辑：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">executeUpdateCSSVariables</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">  variables: &#123; [key: string]: string &#125;,</span></span><br><span class=\"line\"><span class=\"params\">  id = <span class=\"string\">&quot;__minilo-styles__&quot;</span></span></span><br><span class=\"line\"><span class=\"params\"></span>): <span class=\"keyword\">void</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 单例模式：获取已有样式元素或创建新元素，避免重复注入</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> styleElement =</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">`#<span class=\"subst\">$&#123;id&#125;</span>`</span>) || <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&quot;style&quot;</span>);</span><br><span class=\"line\">  styleElement.<span class=\"property\">id</span> = id;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 拼接CSS变量字符串，注入:root伪类（全局生效）</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> cssText = <span class=\"string\">&quot;:root &#123;&quot;</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> key <span class=\"keyword\">in</span> variables) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">hasOwnProperty</span>.<span class=\"title function_\">call</span>(variables, key)) &#123;</span><br><span class=\"line\">      cssText += <span class=\"string\">`<span class=\"subst\">$&#123;key&#125;</span>: <span class=\"subst\">$&#123;variables[key]&#125;</span>;`</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  cssText += <span class=\"string\">&quot;&#125;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 写入样式并延迟注入头部，避免阻塞DOM渲染</span></span><br><span class=\"line\">  styleElement.<span class=\"property\">textContent</span> = cssText;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">`#<span class=\"subst\">$&#123;id&#125;</span>`</span>)) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">head</span>.<span class=\"title function_\">append</span>(styleElement);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-2-1-实现逻辑\"><a href=\"#2-2-1-实现逻辑\" class=\"headerlink\" title=\"2.2.1 实现逻辑\"></a>2.2.1 实现逻辑</h3><ol>\n<li><p><strong>单例管理样式元素</strong>：先查页面里有没有对应 ID 的样式元素，没有就新建一个。这样做是为了避免每次换主题都加新样式元素，导致页面样式又多又乱，始终只留一个全局样式表管理主题变量。</p>\n</li>\n<li><p><strong>批量拼接 CSS 变量</strong>：遍历存着 HSL 色阶的<code>variables</code>对象，拼成<code>:root &#123; --primary-50: 217, 100%, 95%; ... &#125;</code>的格式。<code>:root</code>伪类能让变量全局生效，页面里所有元素都能通过<code>var(--primary-50)</code>引用，这也是 HSL 色值能全局作用于组件的关键。</p>\n</li>\n<li><p><strong>延迟注入优化性能</strong>：用<code>setTimeout</code>延迟把样式元素加到<code>head</code>里，是为了避免样式注入阻塞页面初始渲染，让首屏加载更快。尤其是主题色多、变量量大的时候，这个小优化效果很明显。</p>\n</li>\n</ol>\n<p>补充个小知识点：这个函数支持自定义样式元素 ID，默认是<code>__minilo-styles__</code>。如果是多模块项目，不同模块可以用不同 ID，避免变量互相污染。</p>\n<h3 id=\"2-2-2-变量关联组件样式\"><a href=\"#2-2-2-变量关联组件样式\" class=\"headerlink\" title=\"2.2.2 变量关联组件样式\"></a>2.2.2 变量关联组件样式</h3><p>光有全局 CSS 变量还不够，得和 UI 组件（比如 Element Plus）的内置样式关联起来，主题色才能同步到组件上。<code>useInitGlobalStyle</code>函数就靠 Vue 的响应式监听，实现了这种联动，咱们看代码和逻辑：</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">useInitGlobalStyle</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> rootStyles = <span class=\"title function_\">getComputedStyle</span>(<span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 读取原始CSS变量值</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">getCssVariableValueRaw</span> = (<span class=\"params\">variable: <span class=\"built_in\">string</span></span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> rootStyles.<span class=\"title function_\">getPropertyValue</span>(variable);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 读取并按需转换为RGB（兼容不支持HSL的组件）</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> getCssVariableValue = (</span><br><span class=\"line\">    <span class=\"attr\">variable</span>: <span class=\"built_in\">string</span>,</span><br><span class=\"line\">    <span class=\"attr\">isColor</span>: <span class=\"built_in\">boolean</span> = <span class=\"literal\">true</span></span><br><span class=\"line\">  ): <span class=\"function\"><span class=\"params\">string</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> value = <span class=\"title function_\">getCssVariableValueRaw</span>(variable);</span><br><span class=\"line\">    <span class=\"comment\">// 若为颜色变量，将HSL转为RGB（部分组件仅支持RGB格式）</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> isColor ? <span class=\"title function_\">convertToRgb</span>(<span class=\"string\">`hsl(<span class=\"subst\">$&#123;value&#125;</span>)`</span>) : value;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 监听主题配置变化，实时更新样式</span></span><br><span class=\"line\">  <span class=\"title function_\">watch</span>(</span><br><span class=\"line\">    <span class=\"function\">() =&gt;</span> userConfig.<span class=\"property\">theme</span>,</span><br><span class=\"line\">    <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// 读取HSL色阶变量（部分变量直接复用，部分转换为RGB）</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> background = <span class=\"title function_\">getCssVariableValue</span>(<span class=\"string\">&quot;--background&quot;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> border = <span class=\"title function_\">getCssVariableValue</span>(<span class=\"string\">&quot;--border&quot;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> accent = <span class=\"title function_\">getCssVariableValue</span>(<span class=\"string\">&quot;--accent&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 映射Element Plus内置变量与自定义HSL色阶</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> <span class=\"attr\">variables</span>: <span class=\"title class_\">Record</span>&lt;<span class=\"built_in\">string</span>, <span class=\"built_in\">string</span>&gt; = &#123;</span><br><span class=\"line\">        <span class=\"string\">&quot;--el-bg-color&quot;</span>: background,</span><br><span class=\"line\">        <span class=\"string\">&quot;--el-border-color&quot;</span>: border,</span><br><span class=\"line\">        <span class=\"string\">&quot;--el-border-color-hover&quot;</span>: accent,</span><br><span class=\"line\">        <span class=\"string\">&quot;--el-color-primary&quot;</span>: <span class=\"title function_\">getCssVariableValue</span>(<span class=\"string\">&quot;--primary-500&quot;</span>), <span class=\"comment\">// 主色关联--primary-500</span></span><br><span class=\"line\">        <span class=\"string\">&quot;--el-color-danger&quot;</span>: <span class=\"title function_\">getCssVariableValue</span>(<span class=\"string\">&quot;--destructive-500&quot;</span>), <span class=\"comment\">// 危险色关联--destructive-500</span></span><br><span class=\"line\">        <span class=\"comment\">// 其他组件变量...</span></span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// 注入变量，更新全局样式</span></span><br><span class=\"line\">      <span class=\"title function_\">executeUpdateCSSVariables</span>(variables, <span class=\"string\">`__myself_design_styles__`</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123; <span class=\"attr\">immediate</span>: <span class=\"literal\">true</span> &#125; <span class=\"comment\">// 初始化时立即执行一次，加载默认主题</span></span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"关键逻辑说明\"><a href=\"#关键逻辑说明\" class=\"headerlink\" title=\"关键逻辑说明\"></a>关键逻辑说明</h4><ul>\n<li><p><strong>兼容处理很贴心</strong>：有些 UI 组件不支持直接用 HSL 变量，所以<code>getCssVariableValue</code>会把存好的 HSL 色值，通过<code>convertToRgb</code>转成 RGB 格式，既保留了 HSL 生成色阶的优势，又解决了兼容性问题。</p>\n</li>\n<li><p><strong>响应式监听不卡顿</strong>：用 Vue 的<code>watch</code>盯着<code>userConfig.theme</code>，只要用户换主题（比如改主色、危险色），就立刻重新读取 HSL 色阶，更新组件内置变量的映射关系，实现实时切换。</p>\n</li>\n<li><p><strong>初始化避免乱样式</strong>：<code>&#123; immediate: true &#125;</code>这个配置很重要，页面加载时会立刻执行一次逻辑，注入默认主题的 HSL 变量，不会出现一开始样式错乱的情况。</p>\n</li>\n</ul>\n<h2 id=\"2-3-闭环控制：主题配置与色值同步\"><a href=\"#2-3-闭环控制：主题配置与色值同步\" class=\"headerlink\" title=\"2.3 闭环控制：主题配置与色值同步\"></a>2.3 闭环控制：主题配置与色值同步</h2><p>代码里靠<code>updateCSSVariables</code>和<code>updateMainColorVariables</code>两个函数，形成了“改配置 → 更色阶 → 更样式”的闭环，确保用户改的主题色能精准同步到全局。咱们看代码和这个闭环怎么跑的：</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">updateCSSVariables</span>(<span class=\"params\">config: Config</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> theme = config?.<span class=\"property\">theme</span> ?? &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 检测核心主题色是否变更（主色、危险色、成功色、警告色）</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">has</span>(theme, <span class=\"string\">&quot;colorPrimary&quot;</span>) ||</span><br><span class=\"line\">    <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">has</span>(theme, <span class=\"string\">&quot;colorDestructive&quot;</span>) ||</span><br><span class=\"line\">    <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">has</span>(theme, <span class=\"string\">&quot;colorSuccess&quot;</span>) ||</span><br><span class=\"line\">    <span class=\"title class_\">Reflect</span>.<span class=\"title function_\">has</span>(theme, <span class=\"string\">&quot;colorWarning&quot;</span>)</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 变更则重新生成色阶并更新变量</span></span><br><span class=\"line\">    <span class=\"title function_\">updateMainColorVariables</span>(config);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">updateMainColorVariables</span>(<span class=\"params\">config: Config</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!config.<span class=\"property\">theme</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> &#123; colorDestructive, colorPrimary, colorSuccess, colorWarning &#125; =</span><br><span class=\"line\">    config.<span class=\"property\">theme</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 生成四大核心色的HSL色阶变量</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> colorVariables = <span class=\"title function_\">generatorColorVariables</span>([</span><br><span class=\"line\">    &#123; <span class=\"attr\">color</span>: colorPrimary, <span class=\"attr\">name</span>: <span class=\"string\">&quot;primary&quot;</span> &#125;, <span class=\"comment\">// 主色（primary系列）</span></span><br><span class=\"line\">    &#123; <span class=\"attr\">alias</span>: <span class=\"string\">&quot;warning&quot;</span>, <span class=\"attr\">color</span>: colorWarning, <span class=\"attr\">name</span>: <span class=\"string\">&quot;yellow&quot;</span> &#125;, <span class=\"comment\">// 警告色（别名warning，关联yellow系列）</span></span><br><span class=\"line\">    &#123; <span class=\"attr\">alias</span>: <span class=\"string\">&quot;success&quot;</span>, <span class=\"attr\">color</span>: colorSuccess, <span class=\"attr\">name</span>: <span class=\"string\">&quot;green&quot;</span> &#125;, <span class=\"comment\">// 成功色（别名success，关联green系列）</span></span><br><span class=\"line\">    &#123; <span class=\"attr\">alias</span>: <span class=\"string\">&quot;destructive&quot;</span>, <span class=\"attr\">color</span>: colorDestructive, <span class=\"attr\">name</span>: <span class=\"string\">&quot;red&quot;</span> &#125;, <span class=\"comment\">// 危险色（别名destructive，关联red系列）</span></span><br><span class=\"line\">  ]);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 核心色变量映射（简化组件引用，如--success指向--green-500）</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> colorMappings = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;--green-500&quot;</span>: <span class=\"string\">&quot;--success&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;--primary-500&quot;</span>: <span class=\"string\">&quot;--primary&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;--red-500&quot;</span>: <span class=\"string\">&quot;--destructive&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;--yellow-500&quot;</span>: <span class=\"string\">&quot;--warning&quot;</span>,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 同步更新根元素变量，确保全局生效</span></span><br><span class=\"line\">  <span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(colorMappings).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">[sourceVar, targetVar]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> colorValue = colorVariables[sourceVar];</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (colorValue) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">style</span>.<span class=\"title function_\">setProperty</span>(targetVar, colorValue);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 注入所有HSL色阶变量，更新全局样式</span></span><br><span class=\"line\">  <span class=\"title function_\">executeUpdateCSSVariables</span>(colorVariables);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"闭环逻辑拆解\"><a href=\"#闭环逻辑拆解\" class=\"headerlink\" title=\"闭环逻辑拆解\"></a>闭环逻辑拆解</h4><ol>\n<li><p><strong>先检测再更新，不做无用功</strong>：<code>updateCSSVariables</code>会用<code>Reflect.has</code>检查用户是不是改了四大核心主题色，没改的话就不执行后续操作，避免无效的色阶重生成，提升性能。</p>\n</li>\n<li><p><strong>重生成色阶并同步变量</strong>：如果改了核心色，<code>updateMainColorVariables</code>会调用之前说的<code>generatorColorVariables</code>，重新生成对应色阶，再通过<code>document.documentElement.style.setProperty</code>，把核心变量（比如<code>--success</code>）同步更新，确保简化变量和色阶变量一致。</p>\n</li>\n<li><p><strong>全局样式一键联动</strong>：最后调用<code>executeUpdateCSSVariables</code>注入新的 HSL 色阶变量，因为组件样式早就和这些变量关联好了（比如 Element Plus 的<code>--el-color-success</code>对应<code>--success</code>），所以组件样式会自动跟着变，整个闭环就跑通了。</p>\n</li>\n</ol>\n<h1 id=\"三、HSL-主题切换的优势与扩展场景\"><a href=\"#三、HSL-主题切换的优势与扩展场景\" class=\"headerlink\" title=\"三、HSL 主题切换的优势与扩展场景\"></a>三、HSL 主题切换的优势与扩展场景</h1><h2 id=\"3-1-核心优势\"><a href=\"#3-1-核心优势\" class=\"headerlink\" title=\"3.1 核心优势\"></a>3.1 核心优势</h2><ul>\n<li><p>色彩够协调：同一色相生成的色阶，换主题后不会出现色彩杂乱的情况，系统视觉风格能保持统一。</p>\n</li>\n<li><p>性能够能打：靠 CSS 变量批量更样式，不用操作 DOM 元素，切换主题时响应很快，适合复杂的后台系统。</p>\n</li>\n<li><p>扩展够灵活：支持自定义色阶数量、别名映射，不管是做企业定制主题，还是亮色、暗色模式，都能轻松适配。</p>\n</li>\n</ul>\n<h2 id=\"3-2-扩展场景\"><a href=\"#3-2-扩展场景\" class=\"headerlink\" title=\"3.2 扩展场景\"></a>3.2 扩展场景</h2><ol>\n<li><p>暗色模式快速适配：不用重新定义所有色值，只要把所有 HSL 色阶的亮度（L）整体调低，就能搞定暗色主题。</p>\n</li>\n<li><p>多主题预设：提前准备好几套色相值，比如蓝色、绿色、紫色，用户切换时只改个色相参数，整套主题就换好了。</p>\n</li>\n<li><p>自定义调色功能：给用户加个颜色选择器，让他们自己选主色，实时生成 HSL 色阶并更新主题，个性化拉满。</p>\n</li>\n</ol>\n<h1 id=\"四、总结\"><a href=\"#四、总结\" class=\"headerlink\" title=\"四、总结\"></a>四、总结</h1><p>HSL 色值凭着“色相统一、色阶好生成、调整够方便”的特点，妥妥是后台系统主题色切换的最优解之一。咱们今天拆的这套代码，核心就是“把色值转成 HSL 色阶 → 注入 CSS 变量 → 监听配置更新”，一步步实现主题色动态联动。</p>\n<p>这种方案既保证了主题切换的流畅度和色彩协调性，又有很强的扩展性，不管是常规的多主题需求，还是个性化调色，都能满足。对于前端开发来说，算是一套高效又实用的后台主题实现方案了。</p>\n","feature":true,"text":"一、HSL 色值原理：更适合主题切换的色彩表示法1.1 什么是 HSL 色值HSL 是一种特别贴合人眼色彩感知的色彩空间模型，用三个维度就能精准定义颜色，咱们逐...","permalink":"/post/基于HSL色值实现后台管理系统主题色动态切换的原理与实践","photos":[],"count_time":{"symbolsCount":"9.6k","symbolsTime":"9 mins."},"categories":[],"tags":[{"name":"HSL色值","slug":"HSL色值","count":1,"path":"api/tags/HSL色值.json"},{"name":"换肤功能","slug":"换肤功能","count":1,"path":"api/tags/换肤功能.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81HSL-%E8%89%B2%E5%80%BC%E5%8E%9F%E7%90%86%EF%BC%9A%E6%9B%B4%E9%80%82%E5%90%88%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2%E7%9A%84%E8%89%B2%E5%BD%A9%E8%A1%A8%E7%A4%BA%E6%B3%95\"><span class=\"toc-text\">一、HSL 色值原理：更适合主题切换的色彩表示法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-1-%E4%BB%80%E4%B9%88%E6%98%AF-HSL-%E8%89%B2%E5%80%BC\"><span class=\"toc-text\">1.1 什么是 HSL 色值</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-2-HSL-%E5%9C%A8%E4%B8%BB%E9%A2%98%E8%AE%BE%E8%AE%A1%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83%E4%BB%B7%E5%80%BC\"><span class=\"toc-text\">1.2 HSL 在主题设计中的核心价值</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E5%9F%BA%E4%BA%8E-HSL-%E5%AE%9E%E7%8E%B0%E4%B8%BB%E9%A2%98%E8%89%B2%E5%88%87%E6%8D%A2%E7%9A%84%E6%A0%B8%E5%BF%83%E9%80%BB%E8%BE%91%EF%BC%88%E7%BB%93%E5%90%88%E4%BB%A3%E7%A0%81%E6%8B%86%E8%A7%A3%EF%BC%89\"><span class=\"toc-text\">二、基于 HSL 实现主题色切换的核心逻辑（结合代码拆解）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-1-%E6%A0%B8%E5%BF%83%E5%B7%A5%E5%85%B7%EF%BC%9A%E8%89%B2%E9%98%B6%E7%94%9F%E6%88%90%E4%B8%8E-HSL-%E8%BD%AC%E6%8D%A2\"><span class=\"toc-text\">2.1 核心工具：色阶生成与 HSL 转换</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1-1-%E4%BE%9D%E8%B5%96%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">2.1.1 依赖工具</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-1-2-%E8%89%B2%E9%98%B6%E7%94%9F%E6%88%90%E9%80%BB%E8%BE%91%E6%8B%86%E8%A7%A3%EF%BC%88%E7%BB%93%E5%90%88%E4%BB%A3%E7%A0%81%E7%BB%86%E5%93%81%EF%BC%89\"><span class=\"toc-text\">2.1.2 色阶生成逻辑拆解（结合代码细品）</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-2-%E5%85%B3%E9%94%AE%E6%93%8D%E4%BD%9C%EF%BC%9ACSS-%E5%8F%98%E9%87%8F%E6%B3%A8%E5%85%A5%E4%B8%8E%E6%9B%B4%E6%96%B0\"><span class=\"toc-text\">2.2 关键操作：CSS 变量注入与更新</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-1-%E5%AE%9E%E7%8E%B0%E9%80%BB%E8%BE%91\"><span class=\"toc-text\">2.2.1 实现逻辑</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-2-2-%E5%8F%98%E9%87%8F%E5%85%B3%E8%81%94%E7%BB%84%E4%BB%B6%E6%A0%B7%E5%BC%8F\"><span class=\"toc-text\">2.2.2 变量关联组件样式</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%85%B3%E9%94%AE%E9%80%BB%E8%BE%91%E8%AF%B4%E6%98%8E\"><span class=\"toc-text\">关键逻辑说明</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-3-%E9%97%AD%E7%8E%AF%E6%8E%A7%E5%88%B6%EF%BC%9A%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE%E4%B8%8E%E8%89%B2%E5%80%BC%E5%90%8C%E6%AD%A5\"><span class=\"toc-text\">2.3 闭环控制：主题配置与色值同步</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E9%97%AD%E7%8E%AF%E9%80%BB%E8%BE%91%E6%8B%86%E8%A7%A3\"><span class=\"toc-text\">闭环逻辑拆解</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81HSL-%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2%E7%9A%84%E4%BC%98%E5%8A%BF%E4%B8%8E%E6%89%A9%E5%B1%95%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">三、HSL 主题切换的优势与扩展场景</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-1-%E6%A0%B8%E5%BF%83%E4%BC%98%E5%8A%BF\"><span class=\"toc-text\">3.1 核心优势</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-2-%E6%89%A9%E5%B1%95%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">3.2 扩展场景</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">四、总结</span></a></li></ol>","author":{"name":"谢小谢","slug":"blog-author","avatar":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/logo24.png","link":"/","description":"Love Music, love life","socials":{"github":"https://github.com/ShuHongXie","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"基于web-vitals封装Vue性能指标上报插件，监控前端体验质量","uid":"f10979dfbc66a3866a0a2de1362673f9","slug":"基于web-vitals封装Vue性能指标上报插件，监控前端体验质量","date":"2025-03-10T16:00:00.000Z","updated":"2026-01-26T08:34:21.578Z","comments":true,"path":"api/articles/基于web-vitals封装Vue性能指标上报插件，监控前端体验质量.json","keywords":"谢小谢的博客，前端开发，Vue，Node.js","cover":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/blog/656e07437cfa7a029812907ebdef664a.jpeg","text":"在前端开发中，性能体验直接影响用户留存——加载慢、交互卡顿、布局跳动，都可能让用户瞬间离开。而 web-vitals 作为 Google 推出的核心 Web 性...","permalink":"/post/基于web-vitals封装Vue性能指标上报插件，监控前端体验质量","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[],"tags":[{"name":"Web-vitals","slug":"Web-vitals","count":1,"path":"api/tags/Web-vitals.json"},{"name":"性能上报","slug":"性能上报","count":1,"path":"api/tags/性能上报.json"}],"author":{"name":"谢小谢","slug":"blog-author","avatar":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/logo24.png","link":"/","description":"Love Music, love life","socials":{"github":"https://github.com/ShuHongXie","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}